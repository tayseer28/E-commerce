<section class="bg-main-light shadow  my-2 mt-8 rounded-md p-5">
    <h1 class="h2 text-main my-4 font-semibold">{{"login.title" | translate}} </h1>
    <!-- to bind between the html and the ts of the formGroup -->
    <form class=" mx-auto " [formGroup]="loginForm" (ngSubmit)="loginSubmit()">

        <!-- email -->
        <div class="relative z-0 w-full mb-5 group">
            <input [ngClass]="{
            'is-valid' : !loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty),
            'is-invalid' : loginForm.get('email')?.errors && (loginForm.get('email')?.touched || loginForm.get('email')?.dirty)
        }" type="email" name="floating_email" id="floating_email" formControlName="email"
                class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white  focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                placeholder=" " required />
    
            <label for="floating_email"
                class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">{{"register.email"
                | translate}}</label>
            @if (loginForm.get('email')?.errors && loginForm.get('email')?.touched) {
            <div class="custom-alert mt-3">
                @if (loginForm.get('email')?.getError('required')) {
                <p class="m-0">{{"login.required"}}</p>
                }
                @else if (loginForm.get('email')?.getError('email')) {
    
                <p class="m-0">{{"login.invalidEmail"}} </p>
                }
    
            </div>
            }
        </div>
        <!-- password -->
        <div class="relative z-0 w-full mb-5 group">
            <input [ngClass]="{
            'is-valid' : !loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty),
            'is-invalid' : loginForm.get('password')?.errors && (loginForm.get('password')?.touched || loginForm.get('password')?.dirty)
            }" type="password" name="floating_password" id="floating_password" formControlName="password"
                class="block py-2.5 px-0 w-full text-sm text-gray-900 bg-transparent border-0 border-b-2 border-gray-300 appearance-none dark:text-white  focus:outline-none focus:ring-0 focus:border-blue-600 peer"
                placeholder=" " required />
            <label for="floating_password"
                class="peer-focus:font-medium absolute text-sm text-gray-500 dark:text-gray-400 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 rtl:peer-focus:translate-x-1/4 peer-focus:text-blue-600 peer-focus:dark:text-blue-500 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6">{{"register.password"
                | translate}}:</label>
            @if (loginForm.get('password')?.errors && loginForm.get('password')?.touched) {
            <div class="custom-alert mt-3">
                @if (loginForm.get('password')?.getError('required')) {
                <p class="m-0">{{"login.required" | translate}}</p>
                }
                @else if (loginForm.get('password')?.getError('pattern')) {
    
                <p class="m-0">{{"login.passwordPattern" | translate}}</p>
                }
    
            </div>
            }
    
    
        </div>
    
        <!-- submit -->
        <div class="flex justify-between items-center mt-3">
            <a routerLink="/forgot-password" class="text-gray-400 underline hover:text-gray-600">{{"login.forgotPassword" | translate}}</a>
    
            <button [disabled]="loginForm.invalid || isLoading" type="submit" class="btn-main ms-auto block">
                {{"login.login" | translate}}
                @if (isLoading) {
                <span><i class="fas fa-spin fa-spinner"></i></span>
                }
            </button>
        </div>
        @if (errorMsg) {
        <p class="custom-alert m-0">{{errorMsg}}</p>
        }
        @if(successMsg){
        <p
            class="bg-green-50 border border-green-500 text-green-900 dark:text-green-400 placeholder-green-700  text-sm rounded-lg p-2.5 m-2 w-[fit-content]">
            {{successMsg}}</p>
        }
    </form>
</section>

